# 시큐어 코딩

물품 거래 어플리케이션을 Flask를 통하여 구현하였습니다.

## 구현 사항

아래 기능 명세와 보안기능 명세를 포함하여 구현하였습니다.

### 기능 명세

| 기능 분류 | 기능명         | 상세 설명                                |
| --------- | -------------- | ---------------------------------------- |
| 회원      | 회원가입       | 사용자 정보 입력 및 등록                 |
|           | 로그인         | 등록된 계정으로 로그인                   |
|           | 프로필 관리    | 소개글, 비밀번호 업데이트                |
|           | 회원 조회      | 다른 사용자 조회                         |
|           | 회원 상세      | 다른 사용자의 조회에서 상세페이지를 열람 |
|           | 회원 신고      | 불량 사용자 신고                         |
| 물품      | 물품 등록      | 가격, 제목, 소개를 포함                  |
|           | 물품 조회      | 물품 정보, 판매자 정보 열람              |
|           | 물품 검색      | 물품을 이름으로 검색                     |
|           | 물품 수정      | 내가 등록한 물품 수정                    |
|           | 물품 삭제      | 내가 등록한 물품 삭제                    |
|           | 물품 신고      | 불량 물품 신고                           |
| 채팅      | 전체 채팅      | 모든 사용자 간의 채팅                    |
|           | 1:1 채팅       | 회원 간의 채팅                           |
| 송금      | 지갑 조회      | 잔액, 내역 확인                          |
|           | 송금           | 회원간의 송금                            |
| 관리자    | 회원관리       | 사용자 목록 조회 및 휴먼등록/복구 처리   |
|           | 물품 관리      | 물품 등록 내역 조회 및 삭제              |
|           | 물품 신고 관리 | 물품 신고 내역 확인 및 삭제              |
|           | 회원 신고 관리 | 회원신고 내역 확인 및 휴먼등록/복구 처리 |
|           | 채팅           | 전체 채팅 중 특정 채팅 삭제              |

### 보안 기능 명세

| 보안 기능 분류 | 보안 기능명               | 상세 설명                                                                                                                                |
| -------------- | ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| 회원           | 서버측 입력 검증          | 사용자명(username)와 비밀번호(password)에 대해 길이 허용 문자 집합, 형식 등 서버측 검증 수행.                                            |
|                | 비밀번호 보안             | 비밀번호를 평문으로 저장하지 않고 bcrypt, Argon2 등 강력한 해시 알고리즘과 고유 salt를 적용하여 암호화 저장하는지 확인                   |
|                | 세션 쿠키 설정            | 세션 쿠키에 HttpOnly 및 HTTPS 환경에서 Secure 플래그가 적용되어 있는지 확인                                                              |
|                | 세션 만료 및 재인증       | 일정 시간 이후 세션 만료 및 민감 작업 시 재인증 로직이 구현되어 있는지 확인                                                              |
|                | 실패 로그인 방어          | 로그인 실패 횟수에 따른 계정 잠금 혹은 지연(time-out) 메커니즘 적용 여부 확인                                                            |
| 물품           | 폼 입력 검증              | 상품 제목, 설명, 가격 등의 입력 필드에 대해 서버측 검증 및 필수 항목 체크 여부 확인. 가격은 숫자 형식 및 범위 검증 적용                  |
|                | 소유자 확인               | 상품 수정 및 삭제 시, 요청한 사용자가 해당 상품의 소유자인지 검증하는 로직이 구현되어 있는지 확인                                        |
| 채팅           | 메시지 내용 검증          | 채팅 메시지에 대해 길이 제한                                                                                                             |
|                | 연결 암호화               | 운영 환경에서 WSS(SSL/TLS 암호화된 웹소켓)를 사용하여 데이터 전송의 기밀성이 보장되는지 확인                                             |
| 송금           | 폼 입력 검증              | 적절한 숫자인지 검증                                                                                                                     |
| 신고           | 폼 입력 검증              | 신고 대상(target_id) 및 신고 사유(reason)에 대해 서버측 입력 검증, 길이 제한                                                             |
|                | 신고 관리                 | 신고 활동이 감사 로그로 기록되는지 확인                                                                                                  |
|                | 신고 남용 방지            | 동일 사용자의 반복 신고 제한, 신고 건수 제한 및 관리자 검토 프로세스 등 신고 기능 남용 방지 로직이 구현되어 있는지 확인                  |
| 전체 시스템    | ORM 및 파라미터 바인딩    | SQLAlchemy ORM 및 파라미터 바인딩을 통해 SQL 인젝션 공격에 대한 방어가 제대로 이루어지고 있는지 확인                                     |
|                | 인증된 사용자만 접근      | 로그인 외의 서비스에 사용자가 접근 시, 인증이 되어있는지 확인                                                                            |
|                | CSRF 보호                 | 모든 폼에 대해 CSRF 토큰 사용 여부를 확인하여 요청 위조 공격 방지                                                                        |
|                | 데이터베이스 권한         | 데이터베이스 사용자 권한이 최소 권한 원칙에 따라 설정되어 민감 데이터 접근이 제한되어 있는지 확인                                        |
|                | 데이터 무결성             | 데이터베이스에 저장되기 전 모든 필수 항목 및 형식이 올바른지 검증하는 로직이 있는지 확인                                                 |
|                | 에러 및 예외 처리         | 예외 처리 시 스택 트레이스, DB 정보 등 민감 정보가 사용자에게 노출되지 않고, 에러 로그에 민감 정보 기록 방지 로직이 구현되어 있는지 확인 |
|                | XSS 방어                  | XSS 공격 방지를 위해 HTML 태그 및 스크립트 코드 이스케이프 또는 입력값 필터링 및 인코딩 적용 여부 확인                                   |
|                | Rate Limiting             | 동일 사용자가 단기간에 과도한 요청를 보내지 않도록 제한하는 기능(스팸 방지)이 구현되어 있는지 확인                                       |
|                | 보안 헤더 설정            | Content-Security-Policy, X-Frame-Options, X-Content-Type-Options 등의 보안 헤더가 적용되어 있는지 확인                                   |
|                | HTTPS 적용                | 운영 환경에서 HTTPS를 사용하여 데이터 전송 시 기밀성 및 무결성이 보장되는지 확인                                                         |
|                | 라이브러리 및 의존성 관리 | 사용 중인 Flask, SQLAlchemy, Flask-SocketIO 등 라이브러리의 최신 보안 패치 및 업데이트가 적용되어 있는지 정기적으로 점검                 |
